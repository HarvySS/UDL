{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport Swal from 'sweetalert2';\nimport { AuthUtils } from 'app/core/auth/auth.utils';\nimport { environment } from 'environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"app/services/user/appuser.service\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/progress-spinner\";\n\nfunction TeamsGoalComponent_mat_progress_spinner_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-spinner\", 20);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"diameter\", 24)(\"mode\", \"indeterminate\");\n  }\n}\n\nexport let TeamsGoalComponent = /*#__PURE__*/(() => {\n  class TeamsGoalComponent {\n    constructor(dialog, _formBuilder, userService, data, appUserService) {\n      this.dialog = dialog;\n      this._formBuilder = _formBuilder;\n      this.userService = userService;\n      this.data = data;\n      this.appUserService = appUserService;\n      this.serverUrl = environment.serverFileUrl;\n      this.prediction = {\n        user_team1_score: undefined,\n        user_team2_score: undefined,\n        match_id: '',\n        user_id: ''\n      };\n      this.formFieldHelpers = [''];\n    }\n\n    getFormFieldHelpersAsString() {\n      return this.formFieldHelpers.join(' ');\n    }\n\n    ngOnInit() {\n      let token = localStorage.getItem('accessToken');\n      this.userInfo = AuthUtils._decodeToken(token);\n      console.log(\"prediction\", this.data);\n      this.GetUserPredictions();\n    }\n\n    GetUserPredictions() {\n      this.loaderCheck = true;\n      this.appUserService.GetUserPredictions(this.userInfo.sid, this.data.match_id).subscribe(res => {\n        this.loaderCheck = false;\n\n        if (res.data) {\n          this.prediction.user_team1_score = res.data.user_team1_score;\n          this.prediction.user_team2_score = res.data.user_team2_score;\n        }\n      });\n    }\n\n    savePrediction(form) {\n      if (form.valid) {\n        this.loaderCheck = true;\n        this.prediction.match_id = this.data.match_id;\n        this.prediction.user_id = parseInt(this.userInfo.sid);\n        this.userService.SetUserPredictions(this.prediction).subscribe(res => {\n          if (res.isSuccess = true) {\n            this.loaderCheck = false;\n            Swal.fire({\n              title: 'Prediction saved',\n              icon: 'success',\n              text: 'You prediction is saved successfuly!'\n            });\n            this.dialog.closeAll();\n          } else {\n            Swal.fire({\n              title: 'Error',\n              icon: 'error',\n              text: 'There is something Error.'\n            });\n            this.dialog.closeAll();\n          }\n        });\n      }\n    }\n\n    closedialoge() {\n      this.dialog.closeAll();\n    }\n\n  }\n\n  TeamsGoalComponent.ɵfac = function TeamsGoalComponent_Factory(t) {\n    return new (t || TeamsGoalComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.AppUserService), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i3.AppUserService));\n  };\n\n  TeamsGoalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TeamsGoalComponent,\n    selectors: [[\"app-teams-goal\"]],\n    decls: 29,\n    vars: 11,\n    consts: [[1, \"contactfm\"], [1, \"contacthd\", \"pb-2\"], [1, \"heading-component-title\"], [1, \"flex\", \"flex-col\", \"pt-4\", \"mt-5\", \"shadow\", \"overflow-hidden\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"flex\", \"flex-row\", \"gt-xs:flex-col\"], [2, \"width\", \"50%\"], [1, \"pred-label\"], [1, \"w-7\", \"h-7\", \"rounded-full\", 3, \"src\"], [1, \"fmlabel\", \"pl-4\", \"mr-3\", \"fuse-mat-textarea\", \"flex-auto\", \"w-full\", 3, \"ngClass\"], [\"matInput\", \"\", \"required\", \"\", \"type\", \"number\", \"name\", \"user_team1_score\", \"id\", \"user_team1_score\", \"min\", \"0\", \"max\", \"5\", 3, \"ngModel\", \"ngModelChange\"], [\"user_team1_score\", \"ngModel\"], [1, \"mr-4\", 2, \"width\", \"50%\"], [\"matInput\", \"\", \"required\", \"\", \"type\", \"number\", \"name\", \"user_team2_score\", \"id\", \"user_team2_score\", \"min\", \"0\", \"max\", \"5\", 3, \"ngModel\", \"ngModelChange\"], [\"user_team2_score\", \"ngModel\"], [1, \"flex\", \"items-center\", \"justify-end\", \"border-t\", \"-mx-8\", \"mt-8\", \"px-8\", \"py-5\", \"bg-gray-50\", \"dark:bg-gray-700\", 2, \"margin-left\", \"-8% !important\"], [\"type\", \"button\", \"mat-stroked-button\", \"\", 3, \"click\"], [\"type\", \"submit\", \"mat-flat-button\", \"\", 1, \"px-6\", \"ml-3\", \"mr-4\", 3, \"color\", \"disabled\"], [3, \"diameter\", \"mode\", 4, \"ngIf\"], [3, \"diameter\", \"mode\"]],\n    template: function TeamsGoalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r4 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h5\", 2);\n        i0.ɵɵtext(3, \"Teams Score\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"form\", 4, 5);\n        i0.ɵɵlistener(\"ngSubmit\", function TeamsGoalComponent_Template_form_ngSubmit_5_listener() {\n          i0.ɵɵrestoreView(_r4);\n\n          const _r0 = i0.ɵɵreference(6);\n\n          return ctx.savePrediction(_r0);\n        });\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"label\", 8);\n        i0.ɵɵelement(10, \"img\", 9);\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"mat-form-field\", 10);\n        i0.ɵɵelementStart(13, \"input\", 11, 12);\n        i0.ɵɵlistener(\"ngModelChange\", function TeamsGoalComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.prediction.user_team1_score = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 13);\n        i0.ɵɵelementStart(16, \"label\", 8);\n        i0.ɵɵelement(17, \"img\", 9);\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"mat-form-field\", 10);\n        i0.ɵɵelementStart(20, \"input\", 14, 15);\n        i0.ɵɵlistener(\"ngModelChange\", function TeamsGoalComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.prediction.user_team2_score = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 16);\n        i0.ɵɵelementStart(23, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function TeamsGoalComponent_Template_button_click_23_listener() {\n          return ctx.closedialoge();\n        });\n        i0.ɵɵtext(24, \" Cancel \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"button\", 18);\n        i0.ɵɵtemplate(26, TeamsGoalComponent_mat_progress_spinner_26_Template, 1, 2, \"mat-progress-spinner\", 19);\n        i0.ɵɵelementStart(27, \"span\");\n        i0.ɵɵtext(28, \" Save \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.serverUrl + \"/\" + ctx.data.team1.logo_path, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.data.team1.team_name, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", ctx.formFieldHelpers);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.prediction.user_team1_score);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.serverUrl + \"/\" + ctx.data.team2.logo_path, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.data.team2.team_name, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", ctx.formFieldHelpers);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.prediction.user_team2_score);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"color\", \"primary\")(\"disabled\", ctx.loaderCheck);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loaderCheck);\n      }\n    },\n    directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.NgForm, i4.MatFormField, i5.NgClass, i6.MatInput, i2.MinValidator, i2.MaxValidator, i2.NumberValueAccessor, i2.DefaultValueAccessor, i2.RequiredValidator, i2.NgControlStatus, i2.NgModel, i7.MatButton, i5.NgIf, i8.MatProgressSpinner],\n    styles: [\".contactfm[_ngcontent-%COMP%]{width:100%;height:auto;margin-right:2%;padding:10px}.contacthd[_ngcontent-%COMP%]{border-bottom:1px solid #d7d7d7}.heading-component-title[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:3px;bottom:3px;left:0;border-left:4px solid #35ad79;pointer-events:auto}.heading-component-title[_ngcontent-%COMP%]{position:relative;display:inline-block;padding-left:15px;line-height:26px;font-size:17px;font-weight:bold;letter-spacing:.05em;color:#151515;text-transform:uppercase}.pred-label[_ngcontent-%COMP%]{display:flow-root;margin-left:16px}\"]\n  });\n  return TeamsGoalComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}