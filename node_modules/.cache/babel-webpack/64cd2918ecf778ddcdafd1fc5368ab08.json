{"ast":null,"code":"import { environment } from 'environments/environment';\nimport { TeamsGoalComponent } from '../teams-goal/teams-goal.component';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/services/match/match.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"app/core/auth/auth.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"app/services/team/team.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/progress-spinner\";\nimport * as i8 from \"@angular/material/icon\";\n\nfunction MatchComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"mat-spinner\", 3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"diameter\", 50);\n  }\n}\n\nfunction MatchComponent_section_2_div_5_mat_icon_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 23);\n    i0.ɵɵtext(1, \"arrow_left\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MatchComponent_section_2_div_5_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"FT\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MatchComponent_section_2_div_5_p_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const match_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, match_r4.match_date, \"h:mm a\"));\n  }\n}\n\nfunction MatchComponent_section_2_div_5_mat_icon_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 23);\n    i0.ɵɵtext(1, \"arrow_left\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MatchComponent_section_2_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function MatchComponent_section_2_div_5_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const match_r4 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.onOpenDialogClick(match_r4);\n    });\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelementStart(2, \"div\", 9);\n    i0.ɵɵelementStart(3, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function MatchComponent_section_2_div_5_Template_div_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const match_r4 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.redirectToTeams(match_r4.team1.team_name);\n    });\n    i0.ɵɵelement(4, \"img\", 11);\n    i0.ɵɵelementStart(5, \"div\", 12);\n    i0.ɵɵelementStart(6, \"span\", 13);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 14);\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, MatchComponent_section_2_div_5_mat_icon_11_Template, 2, 0, \"mat-icon\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 16);\n    i0.ɵɵtemplate(13, MatchComponent_section_2_div_5_span_13_Template, 2, 0, \"span\", 0);\n    i0.ɵɵelementStart(14, \"p\", 17);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, MatchComponent_section_2_div_5_p_17_Template, 3, 4, \"p\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 19);\n    i0.ɵɵelementStart(19, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function MatchComponent_section_2_div_5_Template_div_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const match_r4 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.redirectToTeams(match_r4.team2.team_name);\n    });\n    i0.ɵɵelement(20, \"img\", 20);\n    i0.ɵɵelementStart(21, \"div\", 12);\n    i0.ɵɵelementStart(22, \"span\", 21);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 14);\n    i0.ɵɵelementStart(25, \"p\");\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(27, MatchComponent_section_2_div_5_mat_icon_27_Template, 2, 0, \"mat-icon\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const match_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.serverUrl + \"/\" + match_r4.team1.logo_path, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", match_r4.team1.team_name, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(match_r4.team1_goals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", match_r4.won_id == match_r4.team1_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", match_r4.won_id != null || match_r4.is_draw == false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(16, 11, match_r4.match_date, \"EEEE, MMM d\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !match_r4.won_id && !match_r4.is_draw);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.serverUrl + \"/\" + match_r4.team2.logo_path, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", match_r4.team2.team_name, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(match_r4.team2_goals);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", match_r4.won_id == match_r4.team2_id);\n  }\n}\n\nfunction MatchComponent_section_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\");\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 5);\n    i0.ɵɵtemplate(5, MatchComponent_section_2_div_5_Template, 29, 14, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const mtList_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(mtList_r2.date);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", mtList_r2.games);\n  }\n}\n\nexport let MatchComponent = /*#__PURE__*/(() => {\n  class MatchComponent {\n    constructor(matchService, matDialog, authService, _router, teamService) {\n      this.matchService = matchService;\n      this.matDialog = matDialog;\n      this.authService = authService;\n      this._router = _router;\n      this.teamService = teamService;\n      this.serverUrl = environment.serverFileUrl;\n      this.selectedProject = '2022-21';\n    }\n\n    ngOnInit() {\n      this.getAllMatches();\n    }\n\n    getAllMatches() {\n      this.matchService.GetAllMatches({\n        page: 0,\n        size: 10\n      }).subscribe(res => {\n        if (res.isSuccess) {\n          this.matches = res.data; // console.log('matches => ',this.matches);\n\n          const groups = this.matches.reduce((groups, game) => {\n            const date = game.match_date.split('T')[0];\n\n            if (!groups[date]) {\n              groups[date] = [];\n            }\n\n            groups[date].push(game);\n            return groups;\n          }, {});\n          console.log('group by object', groups);\n          const groupArrays = Object.keys(groups).map(date => {\n            return {\n              date,\n              games: groups[date]\n            };\n          });\n          this.matchList = groupArrays;\n          this.matchList.sort(function (a, b) {\n            var c = new Date(a.date);\n            var d = new Date(b.date);\n            return c - d;\n          });\n          console.log('group by object', this.matchList);\n        }\n      });\n    }\n\n    onOpenDialogClick(match) {\n      if (this.authService.accessToken) {\n        if (!match.won_id && !match.is_draw) {\n          if (this.authService.accessToken) {\n            this.matDialog.open(TeamsGoalComponent, {\n              width: '400px',\n              height: 'auto',\n              data: match\n            });\n          }\n        } else {\n          Swal.fire({\n            title: 'Match already played',\n            icon: 'info',\n            text: 'You can not add predictions on this match!'\n          });\n        }\n      }\n    }\n\n    redirectToTeams(teamName) {\n      this._router.navigateByUrl(`/teams?team=${teamName}`);\n    }\n\n  }\n\n  MatchComponent.ɵfac = function MatchComponent_Factory(t) {\n    return new (t || MatchComponent)(i0.ɵɵdirectiveInject(i1.MatchService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.TeamService));\n  };\n\n  MatchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MatchComponent,\n    selectors: [[\"app-match\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [1, \"mainbox\"], [4, \"ngFor\", \"ngForOf\"], [2, \"margin\", \"20vh auto\", 3, \"diameter\"], [1, \"matchDate\"], [1, \"matchDetails\"], [\"class\", \"matchList\", \"style\", \"cursor: pointer;\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"matchList\", 2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"teams\"], [1, \"teamsec\"], [1, \"flex\", \"items-center\", \"mt-2\", \"pl-5\", 3, \"click\"], [1, \"w-7\", \"h-7\", \"rounded-full\", 2, \"cursor\", \"pointer\", 3, \"src\"], [1, \"flex\", \"flex-col\", \"ml-3\"], [1, \"font-medium\", \"leading-none\", \"font-gray\", 2, \"cursor\", \"pointer\"], [1, \"score\"], [\"class\", \"arrowRight\", 4, \"ngIf\"], [1, \"teamDate\", \"mt-2\", \"pt-3\"], [1, \"font-gray\"], [\"class\", \"font-gray\", 4, \"ngIf\"], [1, \"teamsec\", 2, \"margin-top\", \"-2px\"], [1, \"w-7\", \"h-7\", \"rounded-full\", 3, \"src\"], [1, \"font-medium\", \"leading-none\"], [1, \"teamDate\"], [1, \"arrowRight\"]],\n    template: function MatchComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, MatchComponent_div_0_Template, 2, 1, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, MatchComponent_section_2_Template, 6, 2, \"section\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.matchList);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.matchList);\n      }\n    },\n    directives: [i6.NgIf, i6.NgForOf, i7.MatSpinner, i8.MatIcon],\n    pipes: [i6.DatePipe],\n    styles: [\".mainbox[_ngcontent-%COMP%]{background-color:#fff;margin:0 auto}.votetm1[_ngcontent-%COMP%], .votetm2[_ngcontent-%COMP%]{font-size:10px;color:#fff;padding:3px 4px 4px 5px;margin-left:10px;border-radius:12px}.season[_ngcontent-%COMP%]{padding:0 0 1px 20px;font-size:12px;color:gray;margin-bottom:-10px}.votetm2[_ngcontent-%COMP%]{background:#8d1515}.votetm1[_ngcontent-%COMP%]{background:navy}.matchDate[_ngcontent-%COMP%]{border-bottom:1px solid #ebebeb;border-top:1px solid #ebebeb;padding:8px;color:#000;background-color:#ebebeb}.matchDetails[_ngcontent-%COMP%]{width:80vw}.matchList[_ngcontent-%COMP%]{border-right:1px solid #ebebeb;border-bottom:1px solid #ebebeb;height:100px;width:50%;padding:5px;background-color:#fff;display:inline-block}@media only screen and (max-width: 650px){.matchList[_ngcontent-%COMP%]{width:100vw}.mainbox[_ngcontent-%COMP%]{width:100vw;height:auto}}.teams[_ngcontent-%COMP%]{width:100%;height:45px;display:flex}.teamsec[_ngcontent-%COMP%]{width:70%;color:#000;border-right:1px solid #ebebeb;margin-top:8px;display:flex;padding-bottom:5px;justify-content:space-between;align-items:center}.teamDate[_ngcontent-%COMP%]{width:30%;height:35px;color:#000;justify-content:center;text-align:center;align-items:center}.score[_ngcontent-%COMP%]{display:inherit;width:22px}.font-gray[_ngcontent-%COMP%]{color:gray}.arrowRight[_ngcontent-%COMP%]{margin-right:-10px!important;color:#000!important}.click[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return MatchComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}